var e=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(a,r,t)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,l=(e,a)=>{for(var r in a||(a={}))s.call(a,r)&&n(e,r,a[r]);if(t)for(var r of t(a))i.call(a,r)&&n(e,r,a[r]);return e},o=(e,t)=>a(e,r(t)),c=(e,a)=>{var r={};for(var n in e)s.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&t)for(var n of t(e))a.indexOf(n)<0&&i.call(e,n)&&(r[n]=e[n]);return r};import{j as d,a as m,d as u,p,u as h,b as v,B as g,A as _,c as N,e as f,f as b,g as x,h as w,i as y,k as S,G as F,l as C,m as k,r as V,C as I,n as O,T as z,o as q,q as P,s as T,t as j,v as L,F as A,w as M,x as B,y as E,z as R,D,E as G,S as H,I as W,H as U,L as J,J as Q,R as $,K,M as Z,N as X,O as Y,P as ee,Q as ae,U as re,V as te}from"./vendor.5c38e6c6.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?a.credentials="include":"anonymous"===e.crossorigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();var se="/assets/outlaw.4472047c.png";const ie=()=>d("div",{className:"footer",children:[m("div",{className:"divider"}),d("div",{className:"content",children:[d("div",{className:"madeBy",children:["Made with ",m(u,{className:"heartIcon",color:"primary"})," by",m("b",{className:"rhaszare",children:" Rhaszare"})]}),d("div",{className:"collectif",children:[m("div",{children:"Collectif 490 (HORS LA LOI)"}),d("div",{className:"socials",children:[m("img",{src:"/assets/Instagram.5d0f0de1.svg",alt:"Moroccan Outlaws Instagram"}),m("img",{src:"/assets/Facebook.1577c19b.svg",alt:"Moroccan Outlaws Facebook"}),m("img",{src:"/assets/Twitter.43622767.svg",alt:"Moroccan Outlaws Twitter"})]})]}),d("div",{className:"stop490",children:[m("img",{src:se,alt:"Moroccan Outlwas",width:"30"}),m("b",{children:"#STOP490"})]})]})]}),ne=()=>{if(!(()=>{const e=localStorage.getItem("outlaws")||"",a=localStorage.getItem("outlawsData")||"";return e&&a?e:null})())return null;const e=JSON.parse(localStorage.getItem("user")||"");return e&&(null==e?void 0:e.id)?e:null},le=e=>e?e.firstName||e.lastName?`${e.firstName} ${e.lastName}`:e.email||"":"",oe=p({user:ne()||null,login:e=>{(e=>{e&&e.outlaws&&e.outlawsData&&e.user&&(localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("outlaws",e.outlaws),localStorage.setItem("outlawsData",e.outlawsData))})(e),oe.user=ne()||null},logout:()=>{localStorage.clear(),oe.user=null}});var ce="_avatarWrapper_k7a1z_1",de="_avatarBtn_k7a1z_4",me="_avatarBadge_k7a1z_10";const ue=()=>{var e;const a=h(oe),r=v(),t=()=>m("div",{className:me,children:m(N,{})});return m("div",{className:ce,children:a.user&&m(g,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:m(t,{}),onClick:()=>r.push("/profile"),children:m(_,{className:de,alt:(s=a.user,s&&(s.firstName||s.lastName||s.email)||""),src:null==(e=a.user)?void 0:e.image,onClick:()=>r.push("/profile")})})});var s};var pe={header:"_header_l8oap_1",logo:"_logo_l8oap_6",menu:"_menu_l8oap_10",menuItem:"_menuItem_l8oap_16",active:"_active_l8oap_24",auth:"_auth_l8oap_27"};const he=()=>{const e=v(),a=f({path:"/login"}),r=h(oe),t=b.bind(pe);return d("div",{className:pe.header,children:[m("img",{className:pe.logo,src:se,alt:"Moroccan Outlaws",onClick:()=>e.push("/")}),m("div",{className:pe.menu,children:[{text:"Accueil",path:"/"},{text:"A propos",path:"/about-us"},{text:"Pétition",path:"/petition"},{text:"Témoignages",path:"/testimonies"},{text:"Nous rejoindre",path:"/join-us"},{text:"Vote4Love",path:"/vote4Love"}].map(((a,r)=>{var s;return m("div",{className:t("menuItem",{active:null==(s=f({path:a.path}))?void 0:s.isExact}),onClick:()=>e.push(a.path),children:a.text},r)}))}),!r.user&&!a&&m("div",{className:pe.auth,children:m(x,{variant:"contained",onClick:()=>e.push("/login"),children:"Connexion"})}),r.user&&!a&&m(ue,{})]})};var ve="_container_115xe_1",ge="_mainText_115xe_8",_e="_fist_115xe_21";var Ne="_container_8lj4e_1",fe="_leftSide_8lj4e_11",be="_rigthSide_8lj4e_20",xe="_rightContent_8lj4e_29",we="_heading_8lj4e_33",ye="_redText_8lj4e_38",Se="_loginDivider_8lj4e_51",Fe="_buttons_8lj4e_56",Ce="_loginBtn_8lj4e_59";var ke="_container_me99v_1",Ve="_heading_me99v_10",Ie="_userCard_me99v_23",Oe="_content_me99v_41",ze="_avatarWrapper_me99v_53",qe="_avatar_me99v_53",Pe="_infoWrapper_me99v_63",Te="_info_me99v_63",je="_name_me99v_73",Le="_email_me99v_77",Ae="_linkWrapper_me99v_80",Me="_link_me99v_80",Be="_LinkText_me99v_88",Ee="_copy_me99v_97",Re="_shareArrow_me99v_100",De="_ShareText_me99v_106";var Ge="_container_588cw_1",He="_heading_588cw_9",We="_petitionText_588cw_22",Ue="_form_588cw_32",Je="_submit_588cw_40",Qe="_signWrapper_588cw_48",$e="_sigCanvas_588cw_55",Ke="_resetIcon_588cw_63";const Ze=e=>{var a=e,{label:r,multiline:t=!1,rows:s=0}=a,i=c(a,["label","multiline","rows"]);const[n,d]=O(i),u=d.error&&d.touched?d.error:"";return m(z,o(l({color:"secondary",variant:"standard",type:"text",label:r,helperText:u,error:!!u},n),{multiline:t,rows:s,sx:{width:"100%"}}))},Xe=({label:e,error:a=!1})=>m("div",{style:{color:a?"#f44336":"rgba(255, 255, 255, 0.7)",fontWeight:400,fontSize:"1rem",lineHeight:"1.4375em",letterSpacing:"0.00938em",marginBottom:10},children:e}),Ye=({error:e})=>m("p",{style:{color:"#f44336",fontSize:"0.75rem",lineHeight:1.66,letterSpacing:"0.03333em",marginTop:3},children:e});q(P,T,j,L);const ea=({values:e,fieldName:a,setFieldValue:r,label:t,innerLabel:s})=>{const[i,n]=O(a),l=n.error&&n.touched?n.error:"";return d("div",{children:[m(Xe,{label:t,error:!!l}),m(A,{files:e[a],onupdatefiles:e=>{const t=e.map((e=>e.file));r(a,t)},allowMultiple:!0,maxFiles:2,name:"files",labelIdle:s,acceptedFileTypes:["image/png","image/jpeg"],maxFileSize:"15MB",labelFileTypeNotAllowed:"Que les images de type JPG ou PNG sont acceptés",labelMaxFileSize:"La taille de chaque fichier ne doit dépasser 5MB",labelMaxFileSizeExceeded:"Choisissez un fichier plus petit"}),l&&m(Ye,{error:l})]})};var aa=[{path:"/",component:()=>d("div",{className:ve,children:[d("div",{className:ge,children:[m("h1",{children:"L'AMOUR N'EST PAS UN CRIME."}),m("br",{}),m("p",{children:"Vous avez été des milliers à signer notre manifeste des « Hors la loi » et nous vous en remercions."}),m("br",{}),m("p",{children:"Nous avons été extrêmement touchés par votre mobilisation et grâce à vous toutes et tous, nous avons pu ouvrir le débat, et libérer une parole longtemps enfouie."}),m("br",{}),m("br",{}),d(w,{variant:"contained",children:[m(x,{children:"Signer la pétition"}),m(x,{children:"Vote4Love"})]})]}),m("img",{src:"/assets/fist.ebcd0de8.png",className:_e})]})},{path:"/login",component:()=>{const{executeRecaptcha:e}=y(),{enqueueSnackbar:a}=S(),r=v();return d("div",{className:Ne,children:[m("div",{className:fe}),m("div",{className:be,children:d("div",{className:xe,children:[d("div",{className:we,children:["Bienvenue, ",m("span",{className:ye,children:"hors la loi"})]}),m("p",{children:"Créez votre compte, aidez nous à atteindre le maximum de petitions signées et debloquez plein de cadeaux"}),m("img",{src:"/assets/underlining.e2671b62.svg",className:Se}),d("p",{children:["Pour vous connecter ou vous inscrire, continuez avec Google ou Facebook.",m("br",{}),m("small",{children:"Connexion et Inscription sans formulaire à remplir."})]}),d("div",{className:Fe,children:[m(F,{clientId:"315438593841-hmb4ridmr60ei1rf771j1cb79ohde76v.apps.googleusercontent.com",buttonText:"Google",onSuccess:async t=>{let s="";e&&(s=await e("googleAuth")),k.post("http://127.0.0.1:8000/auth/google",{googleToken:t.tokenId,recaptcha:s}).then((e=>{const t=e.data;oe.login(t),a(`Bienvenue ${t.user.firstName||t.user.lastName||t.user.email||""} !`,{variant:"success"}),r.push("/")}))},onFailure:()=>{a("La connexion Google à échoué !",{variant:"error"})},cookiePolicy:"single_host_origin",render:e=>m(C,{sx:{boxShadow:4},onClick:e.onClick,className:Ce,children:m("img",{src:"/assets/google-login.2a03a3f5.svg"})})}),m(C,{sx:{boxShadow:4},className:Ce,children:m("img",{src:"/assets/facebook-login.39c01aab.svg"})})]})]})})]})},offline:!0},{path:"/profile",component:()=>{var e,a,r,t,s;const i=v(),n=h(oe),[l,o]=V.exports.useState(!1),c=()=>{var e;(async e=>"clipboard"in navigator?await navigator.clipboard.writeText(e):document.execCommand("copy",!0,e))(`https://www.moroccanoutlaws.com/petition/${null==(e=n.user)?void 0:e.id}`).then((()=>{o(!0),setTimeout((()=>{o(!1)}),1500)})).catch((e=>{console.log(e)}))};return d("div",{className:ke,children:[m("div",{className:Ve,children:"Profil"}),m("div",{className:Ie,children:d("div",{className:Oe,children:[m("div",{className:ze,children:m(_,{className:qe,alt:le(n.user),src:null==(e=n.user)?void 0:e.image})}),m("div",{className:Pe,children:d("div",{className:Te,children:[m("div",{className:je,children:le(n.user)}),(null==(a=n.user)?void 0:a.email)!==le(n.user)&&(null==(r=n.user)?void 0:r.email)&&m("div",{className:Le,children:null==(t=n.user)?void 0:t.email}),d("div",{className:Ae,children:[d("div",{className:Me,children:[m("div",{className:Be,children:`https://www.moroccanoutlaws.com/petition/${null==(s=n.user)?void 0:s.id}`}),m(x,{size:"small",variant:"contained",color:l?"success":"primary",onClick:()=>c(),endIcon:l?m(I,{}):null,className:Ee,children:l?"Copié":"Copier"})]}),m("img",{src:"/assets/arrow-share.7eebab75.svg",className:Re})]}),m("div",{})]})}),m("div",{className:De,children:"Partagez ce lien avec vos amis et gagnez des points pour chaque signature validée."})]})}),m(x,{variant:"contained",onClick:()=>(oe.logout(),void i.push("/")),children:"Déconnexion"})]})},auth:!0},{path:"/petition",component:()=>{const e=M({firstname:B().max(40,"Votre Pénom ne peut pas dépasser 40 caractères").min(3,"Votre Pénom doit contenir au moins 3 caractères").required("Votre Pénom est requis"),lastname:B().max(40,"Votre Nom ne peut pas dépasser 40 caractères").min(3,"Votre Nom doit contenir au moins 3 caractères").required("Votre Nom est requis"),address:B().max(150,"Votre Adresse ne peut pas dépasser 150 caractères").min(5,"Votre Adresse doit contenir au moins 5 caractères").required("Votre Adresse est requis"),email:B().email("Veuillez insérer un E-mail valide").required("Votre E-mail est requis"),cin:B().max(12,"Votre CIN ne peut pas dépasser 12 caractères").min(6,"Votre CIN doit contenir au moins 6 caractères").required("Votre CIN est requis"),electoral_number:B().max(40,"Votre N° d'inscription aux listes électorales ne peut pas dépasser 40 caractères").min(1,"Votre N° d'inscription aux listes électorales doit contenir au moins 1 caractères").required("Votre N° d'inscription aux listes électorales est requis"),identity_card:E().min(2,"Votre carte didentité est requise (Recto et Verso)").required("Votre carte didentité est requise (Recto et Verso)").test("file-size","La taille des images ne doit pas depasser 15MB",(e=>((e,a=15)=>!(!e||!e.length)&&e.every((e=>e.size/1024/1024<=a)))(e,15))).test("file-type","Les images doivent être de type PNG ou JPG",(e=>{return r=["image/png","image/jpeg"],!(!(a=e)||!a.length)&&a.every((e=>r.includes(e.type)));var a,r})),signature:B().required("Votre Signature manuscrite est requise")}),[a,r]=V.exports.useState(null);return d("div",{className:Ge,children:[m("div",{className:He,children:"Pétition"}),m("div",{className:We,children:d("p",{children:["اعتبارا لما نص عليه الدستور المغربي من التزام بالعمل على منظومتي حقوق الإنسان والقانون الدولي الإنساني.",m("br",{}),"وحيث ان المملكة المغربية، تعتبر نفسها عضوا نشيطا في المنظمات الدولية، وتتعهد بالتزام ما تقتضيه مواثيقها، من مبادئ وحقوق وواجبات. وتؤكد تشبثها بحقوق الإنسان كما هي متعارف عليها عالميا.",m("br",{}),"وتطبيقا لأحكام الفصل 15 من دستور 2011 وتماشيا مع القانون التنظيمي 44.14 بتحديد شروط وكيفيات ممارسة المواطنات والمواطنين الحق في تقديم .العرائض إلى السلطات العمومية،",m("br",{}),"فنحن الموقعات والموقعين على هذه العريضة، نطالب بحذف الفصول المجرمة للحريات الفردية من القانون الجنائي المغربي.",m("br",{})]})}),m(R,{validateOnChange:!0,initialValues:{firstname:"",lastname:"",email:"",address:"",cin:"",electoral_number:"",identity_card:[],signature:""},validationSchema:e,onSubmit:(e,{setSubmitting:a,setErrors:r,resetForm:t})=>{console.log(e),a(!1)},children:({isSubmitting:e,values:t,setFieldValue:s,errors:i})=>d(D,{className:Ue,children:[d(G,{container:!0,spacing:3,children:[m(G,{item:!0,xs:12,sm:6,children:m(Ze,{name:"firstname",label:"Prénom"})}),m(G,{item:!0,xs:12,sm:6,children:m(Ze,{name:"lastname",label:"Nom"})}),m(G,{item:!0,xs:12,sm:6,children:m(Ze,{name:"email",label:"Email"})}),m(G,{item:!0,xs:12,sm:6,children:m(Ze,{name:"address",label:"Adresse",multiline:!0,rows:4})}),m(G,{item:!0,xs:12,sm:6,children:m(Ze,{name:"cin",label:"Numéro de CIN"})}),m(G,{item:!0,xs:12,sm:6,children:m(Ze,{name:"electoral_number",label:"Numéro d'inscription aux listes électorales"})}),m(G,{item:!0,xs:12,sm:6,children:m(ea,{values:t,fieldName:"identity_card",setFieldValue:s,label:"Copie de la carte d'identité nationale",innerLabel:"Cliquez ici pour Télecharger le Recto et le Verso"})}),d(G,{item:!0,xs:12,sm:6,children:[m(Xe,{label:"Signature manuscrite",error:!!i.signature}),d("div",{className:Qe,children:[m(H,{clearOnResize:!0,penColor:"black",canvasProps:{className:$e,onMouseUp:()=>{s("signature",a.getTrimmedCanvas().toDataURL("image/png"))}},ref:e=>{r(e)}}),m(W,{className:Ke,onClick:()=>{a.clear(),s("signature","")},children:m(U,{})})]}),i.signature&&m(Ye,{error:i.signature})]})]}),m(J,{variant:"contained",type:"submit",className:Je,loading:e,children:"Signer"})]})})]})}},{path:"/staff",component:()=>m("div",{children:"Protected route"}),staff:!0}];const ra=e=>{var a=e,{children:r}=a,t=c(a,["children"]);const s=h(oe),i=!!(n=s.user)&&"STAFF"===n.role;var n;return m($,o(l({},t),{render:()=>i?r:m(K,{to:{pathname:"/"}})}))},ta=e=>{var a=e,{children:r}=a,t=c(a,["children"]);const s=h(oe);return m($,o(l({},t),{render:()=>s.user?r:m(K,{to:{pathname:"/"}})}))},sa=e=>{var a=e,{children:r}=a,t=c(a,["children"]);const s=h(oe);return m($,o(l({},t),{render:()=>s.user?m(K,{to:{pathname:"/"}}):r}))},ia=()=>d(Q,{children:[aa.map(((e,a)=>e.staff?m(ra,{exact:!0,path:e.path,children:m(e.component,{})},a+1):e.auth?m(ta,{exact:!0,path:e.path,children:m(e.component,{})},a+1):e.offline?m(sa,{exact:!0,path:e.path,children:m(e.component,{})},a+1):m($,{exact:!0,path:e.path,children:m(e.component,{})},a))),m($,{path:"*",children:m(K,{to:"/"})})]});let na=Z({palette:{primary:{main:"#f31800"},success:{main:"#5cb85c",contrastText:"#FFFFFF"},text:{primary:"#FFFFFF"},mode:"dark",secondary:{main:"#FFFFFF",contrastText:"#FFFFFF"}}});function la(){return m(X,{theme:na,children:m(Y,{maxSnack:3,children:d("div",{className:"globalWrap",children:[m(he,{}),m(ia,{}),m(ie,{})]})})})}ee.render(m(ae.StrictMode,{children:m(re,{reCaptchaKey:"6Lcq7cgaAAAAAIaUrZvOeHNOtQS2LnkHbDFQTQ4M",children:m(te,{children:m(la,{})})})}),document.getElementById("root"));
